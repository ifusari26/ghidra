package tools.ghidra.marshmallows.transformers;

import java.util.Arrays;
import java.util.function.Function;

import org.jetbrains.annotations.NotNull;

public final class Utilities {
	
	private Utilities() { }
	
	@SuppressWarnings("unchecked")
	public static <T, R> R[] transform(final Function<T, R> transformer, final T... values) {
		return (R[]) Arrays.stream(values).map(transformer::apply).toArray();
	}
	
	@SuppressWarnings("unchecked")
	public static <T, R> R[] transformNonNull(final Function<T, R> transformer, @NotNull final T... values) {
		R[] result = Utilities.transform(transformer, values);
		// Filter null values
		return (R[]) Arrays.stream(result).filter((value) -> value != null).toArray();
	}
	
}
